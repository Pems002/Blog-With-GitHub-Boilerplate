<!DOCTYPE HTML>
<html lang="zh-CN">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <meta name="HandheldFriendly" content="true">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Blog,Sean,Maverick" />
    <meta name="generator" content="Maverick 1.1" />
    <meta name="template" content="Galileo" />
    <link rel="alternate" type="application/rss+xml" title="Sean's Blog &raquo; RSS 2.0" href="/feed/index.xml" />
    <link rel="alternate" type="application/atom+xml" title="Sean's Blog &raquo; ATOM 1.0" href="/feed/atom/index.xml" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Pems002/Blog@gh-pages/assets/galileo-6eb818ccb7.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Pems002/Blog@gh-pages/assets/ExSearch/ExSearch-182e5a8868.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Pems002/Blog@gh-pages/assets/katex.min.css">
    <link href="https://fonts.googleapis.com/css?family=Fira+Code&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700&display=swap">
    <script>
        var ExSearchConfig = {
            root: "",
            api: "https://cdn.jsdelivr.net/gh/Pems002/Blog@gh-pages/4e32bea4a2cbfe5f58f52103ba78aca7.json"
        }
    </script>
    
<title>Mailer加持，让博客体验更完善 - Sean's Blog</title>
<meta name="author" content="Sean" />
<meta name="description" content="现在，你可以收到评论回复啦！" />
<meta property="og:title" content="Mailer加持，让博客体验更完善 - Sean's Blog" />
<meta property="og:description" content="现在，你可以收到评论回复啦！" />
<meta property="og:site_name" content="Sean's Blog" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/archives/180/" />
<meta property="og:image" content="https://www.lifewire.com/thmb/mkR7ed8DYBalvSwazvJ-E-qA9FU=/768x0/filters:no_upscale():max_bytes(150000):strip_icc()/gmail-unsend-599318fd68e1a200111244db.png" />
<meta property="article:published_time" content="2020-03-10T14:49:00-00.00" />
<meta name="twitter:title" content="Mailer加持，让博客体验更完善 - Sean's Blog" />
<meta name="twitter:description" content="现在，你可以收到评论回复啦！" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://www.lifewire.com/thmb/mkR7ed8DYBalvSwazvJ-E-qA9FU=/768x0/filters:no_upscale():max_bytes(150000):strip_icc()/gmail-unsend-599318fd68e1a200111244db.png" />


    
<link rel="icon" href="https://cdn.jsdelivr.net/gh/Pems002/Blog@source/src/static/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/Pems002/Blog@source/src/static/favicon.ico" type="image/x-icon" />
<meta http-equiv="x-dns-prefetch-control" content="on">
<link rel="dns-prefetch" href="//cdn.jsdelivr.net" />

    </head>
    
    <body>
        
        <div class="container">
            <header id="ga-header">
                <div first>
                    <aside id="ga-brand">
                        <h1 class="brand"><a class="no-style" href="/">Sean's Blog</a></h1>
                        <p>乘风破浪</p>
                    </aside>
                </div>
                <div second id="ga-nav">
                    <nav class="navs">
                        <ul><li><a class="ga-highlight" href="/" target="_self">首页</a></li><span class="separator">·</span><li><a class="ga-highlight" href="/archives/" target="_self">归档</a></li><span class="separator">·</span><li><a class="ga-highlight" href="/who-am-i/" target="_self">关于我</a></li><span class="separator">·</span><li><a href="#" target="_self" class="search-form-input ga-highlight">搜索</a></li></ul>
                    </nav>
                </div>
            </header>
            <div class="wrapper">
                
<main>    
    <section class="ga-section ga-content">
        <article class="yue">
            <h1 class="ga-post_title">Mailer加持，让博客体验更完善</h1>
            <span class="ga-post_meta ga-mono">
                <span>Sean</span>
                <time>
                    2020-03-10
                </time>
                
                in <a no-style class="category" href="/category/学记/">
                    学记
                </a>
                
                
                <span class="leancloud_visitors" 
                    id="/archives/180/" 
                    data-flag-title="Mailer加持，让博客体验更完善"> · <i class="leancloud-visitors-count"></i> Views</span>
                
            </span>
            <div class="ga-content_body">
                <div class="notice">从建立这个博客开始，自始至终都没有说会想过未来真的会有人读你写的东西，甚至给你留下评论。</div><p><strong>前言</strong></p>
<p>好吧当时其实也没有想太多，因为对这个邮件回复其实是有一些误解。这是怎么回事呢：</p>
<blockquote><p>我一直认为：想让Typecho给你自动发送邮件来跟踪你的评论消息其实很困难。</p>
</blockquote>
<p>但是就在昨天晚上，我不知道怎么的，就访问别的大佬的站内，看一些文章。偶尔一下就发现，他写到的有关邮件回复的文章：<a href="https://blog.zggsong.cn/archives/1082.html">邮件评论回复插件</a>这时我也想到了为何不尝试一下这样的“新鲜事”呢 :@(深思) <del>Maybe在我看来这已经很新鲜了好嘛</del>说做就做！</p>
<p><strong>过程</strong></p>
<p>参照教程，看着看着就感觉不对了，咦！怎么是熊猫小A写的，正好我的主题也是他写的！<del>鬼晓得当时我居然没发现这个插件</del>就正好给我的小站整上个“全家桶” :@(赞一个)</p>
<p>首先说一下我搭建前的一个环境：Typecho我使用的是最新的正式版本，但听说只有开发版才有这个插件所需要的接口，所以说只能将你的博客站升级到开发版后才能使用这个插件。哦对了忘记介绍了，这次的插件就是它：<a href="https://blog.imalan.cn/archives/349/">Mailer：又一款评论邮件提醒插件</a></p>
<p>不过呢在安装之前，首先做的事就是要[notice]<strong>备份！</strong> <strong>备份！</strong> <strong>备份！</strong>[/notice]因为开发板和正式版不同，一旦出现问题数据无价！<del>经历了惨痛崩坏的我，说多了都是泪 :@(装大款) </del></p>
<ol>
<li>前往<a href="http://typecho.org/download">Typecho官方网站下载页</a>找到开发版下载</li>
<li>下载<code>build</code>文件，将原网站目录下的<code>admin</code> <code>var</code> <code>index.php</code>删除。</li>
<li>解压<code>build</code>文件后，将<code>admin</code> <code>var</code> <code>index.php</code>重新粘贴至网站目录上传，即可。</li>
<li>打开博客站后台，可以发现升级的提示，点击升级</li>
</ol>
<blockquote><p>升级到开发版后，其实观察了一下，并没有什么太大变化，原来启用的插件/主题都可以使用。不过新增加了直接预览还未发布的文章，这点倒是挺好的，虽然说文本编辑页也是有预览的，但效果显然没有这个好，这边点个赞！ ::(真棒)</p>
</blockquote>
<p>接下来我们就可以安装插件了，前往插件的<a href="https://github.com/AlanDecode/Typecho-Plugin-Mailer">Github</a>页面，下载后上传至网站根目录<code>usr</code>中的<code>Plugin</code>文件夹下。
[notice]一定要更改解压后的文件夹名为Mailer否则会出现 <code>Database 500 error</code>报错问题[/notice]</p>
<p>接下来配置插件很重要。这边我另外提一下，我使用了QQ的域名邮箱服务，且我去了解到域名邮箱也是有SMTP服务的，可以作为发件邮箱，这样就免去了企业邮箱或绑定域名邮箱的必须，但如果你也有同样的SMTP邮箱服务，也可以使用，这边只是介绍一下其实QQ邮箱还是有这个服务的，既然有的话就利用起来也是不错哒 ::(滑稽) [notice]QQ域名邮箱支持域名有限，如.COM/.CN/.NET等，有些可能不支持，注册域名时请斟酌选择。[/notice]</p>
<p><figure  size-undefined><img width="-1" height="-1" src="https://www.imsean.cn/usr/uploads/2020/03/428455539.png#vwid=784&vhei=570" /><figcaption>Mailer配置.png</figcaption></figure></p>
<div class="notice">这里需要注意，填写密码时，请先前往QQ邮箱设置中账户页下的POP3/IMAP/SMTP服务中开启POP3/SMTP服务，验证您的身份后就会生成一个授权码，将生成的授权码填写至密码一栏即可。如果出现发送指令失败的服务，可以更换端口与协议重试后即可</div><p>到这里，插件基本上就配置完了。如果你也和我一样使用<code>VOID</code>主题，那么到这里就设置完成了；但如果你使用的是其他主题，你需要将一下代码添加至你博客评论的文件中（一般为comments.php）：</p>

<pre><code>&lt;span&gt;
  &lt;input name="receiveMail" type="checkbox" value="yes" checked /&gt;
  &lt;label for="receiveMail"&gt;&lt;strong&gt;接收&lt;/strong&gt;邮件通知&lt;/label&gt;
&lt;/span&gt;</code></pre>
<p>你还可以更改发件模板，让你的邮件看起来更加棒！这边我也提供我使用的两个模板：</p>
<p><strong>针对博主的邮件模板</strong></p>

<pre><code>&lt;div style="width: 620px;height: auto;border-radius: 5px;margin:0 auto;box-shadow: 0px 0px 20px #888888;position: relative;"&gt;
    &lt;div style="background-image: url(https://img.moegirl.org/common/b/b9/%E6%8A%98%E6%9C%A8.jpg);width:620px;height: 287px;background-size: cover;background-repeat: no-repeat;border-radius: 5px 5px 0px 0px;"&gt;&lt;/div&gt;
    &lt;div style="background-color:white;line-height:180%;padding:0 15px 12px;width:520px;margin:10px auto;color:#555555;font-family:'Century Gothic','Trebuchet MS','Hiragino Sans GB',微软雅黑,'Microsoft Yahei',Tahoma,Helvetica,Arial,'SimSun',sans-serif;font-size:12px;margin-bottom: 0px;"&gt;
        &lt;h2 style="font-size:14px;font-weight:normal;padding:13px 0 10px 8px;"&gt;&lt;span style="color: #ff7272;font-weight: bold;"&gt;&lt;/span&gt;Master！您编撰的文章 &lt;a style="text-decoration:none;color: #ff7272;" href="{{post_permalink}}" target="_blank"&gt;《{{post_title}}》&lt;/a&gt; 有了新的回复呐~&lt;/h2&gt;
        &lt;div style="padding:0 12px 0 12px;margin-top:18px"&gt;
            &lt;p&gt;&lt;strong&gt;{{comment_author_name}}&lt;/strong&gt;&nbsp;给您的评论：&lt;/p&gt;
            &lt;style type="text/css"&gt;
                .comment&gt;img{margin: 0px 6px 5px 6px;width: 25px;}
            &lt;/style&gt;
            &lt;p class="comment" style="background-color: #f5f5f5;border: 0px solid #DDD;border-radius: 5px;padding: 10px 15px;margin:18px 0"&gt;{{comment_content}}&lt;/p&gt;
            &lt;p&gt;其他信息：&lt;/p&gt;
            &lt;p style="background-color: #f5f5f5;border: 0px solid #DDD;border-radius: 5px;padding: 10px 15px;margin:18px 0"&gt;IP Address：{{ip}}&lt;br /&gt;Mail：&lt;a style="text-decoration:none;color: #ff7272;" href="mailto:{{comment_author_mail}}"&gt;{{comment_author_mail}}&lt;/a&gt;&lt;br /&gt;Status：{{status}} [&lt;a style="text-decoration:none;color: #ff7272;" href='{{manage_url}}' target='_blank'&gt;管理评论&lt;/a&gt;]&lt;/p&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;a style="text-decoration: none;color: rgb(255, 255, 255);width: 40%;text-align: center;background-color: rgb(255, 114, 114);height: 40px;line-height: 40px;box-shadow: 3px 3px 3px rgba(0, 0, 0, 0.3);display: block;margin: auto;" href="{{comment_permalink}}" target="_blank"&gt;点击查看完整內容&lt;/a&gt;
    &lt;div style="color:#8c8c8c;;font-family: 'Century Gothic','Trebuchet MS','Hiragino Sans GB',微软雅黑,'Microsoft Yahei',Tahoma,Helvetica,Arial,'SimSun',sans-serif;font-size: 10px;width: 100%;text-align: center; padding-bottom: 1px;"&gt;
        &lt;p&gt;©2019 - 2020 Copyright  {{site_name}} &lt;/p&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
<p><strong>针对访客的邮件模板</strong></p>

<pre><code>&lt;div style="width: 620px;height: auto;border-radius: 5px;margin:0 auto;box-shadow: 0px 0px 20px #888888;position: relative;padding-bottom: 5px;"&gt;
    &lt;div style="background-image: url(https://img.moegirl.org/common/b/b9/%E6%8A%98%E6%9C%A8.jpg);width:620px;height: 287px;background-size: cover;background-repeat: no-repeat;border-radius: 5px 5px 0px 0px;"&gt;&lt;/div&gt;
    &lt;div style="width: 200px;height: 40px;background-color: rgb(255, 114, 114);margin-top: -20px;margin-left: 20px;box-shadow: 3px 3px 3px rgba(0, 0, 0, 0.3);color: rgb(255, 255, 255);text-align: center;line-height: 40px;"&gt;Dear： {{comment_parent_author_name}} &lt;/div&gt;
    &lt;div style="background-color:white;line-height:180%;padding:0 15px 12px;width:520px;margin:30px auto;color:#555555;font-family:'Century Gothic','Trebuchet MS','Hiragino Sans GB',微软雅黑,'Microsoft Yahei',Tahoma,Helvetica,Arial,'SimSun',sans-serif;font-size:12px;margin-bottom: 0px;"&gt;  
        &lt;h2 style="font-size:14px;font-weight:normal;padding:13px 0 10px 8px;"&gt;&lt;span style="color: #12ADDB;font-weight: bold;"&gt;&lt;/span&gt;您在 &lt;a style="text-decoration:none;color: #ff7272;" href="{{post_permalink}}" target="_blank"&gt;《{{post_title}}》&lt;/a&gt; 中的评论有了新的回复呐~&lt;/h2&gt;  
        &lt;div style="padding:0 12px 0 12px;margin-top:18px"&gt;
            &lt;style type="text/css"&gt;
                .comment&gt;img{margin: 0px 6px 5px 6px;width: 25px;}
            &lt;/style&gt;
            &lt;p&gt;您的评论：&lt;/p&gt;  
            &lt;p class="comment" style="background-color: #f5f5f5;border: 0px solid #DDD;border-radius: 5px;padding: 10px 15px;margin:18px 0"&gt;{{comment_parent_content}}&lt;/p&gt;  
            &lt;p&gt;&lt;strong&gt;{{comment_author_name}}&lt;/strong&gt;&nbsp;给您的回复：&lt;/p&gt;  
            &lt;p class="comment" style="background-color: #f5f5f5;border: 0px solid #DDD;border-radius: 5px;padding: 10px 15px;margin:18px 0"&gt;{{comment_content}}&lt;/p&gt;  
        &lt;/div&gt;  
    &lt;/div&gt;
    &lt;div style="color:#8c8c8c;;font-family: 'Century Gothic','Trebuchet MS','Hiragino Sans GB',微软雅黑,'Microsoft Yahei',Tahoma,Helvetica,Arial,'SimSun',sans-serif;font-size: 10px;width: 100%;text-align: center;word-wrap:break-word;margin-top: -30px;"&gt;
        &lt;p style="padding:20px;"&gt;喜欢这里的话，那以后，这里就是你的家了！——《罗小黑战记》&lt;/p&gt;
    &lt;/div&gt;
    &lt;a style="text-decoration:none; color:#FFF;width: 40%;text-align: center;background-color:#ff7272;height: 40px;line-height: 35px;box-shadow: 3px 3px 3px rgba(0, 0, 0, 0.30);margin: -10px auto;display: block;" href="{{comment_permalink}}" target="_blank"&gt;点击查看完整內容&lt;/a&gt;
    &lt;div style="color:#8c8c8c;;font-family: 'Century Gothic','Trebuchet MS','Hiragino Sans GB',微软雅黑,'Microsoft Yahei',Tahoma,Helvetica,Arial,'SimSun',sans-serif;font-size: 10px;width: 100%;text-align: center;margin-top: 30px;"&gt;
        &lt;p&gt;本邮件由：最爱Master的邮箱姬 自动发送，请勿直接回复呐~&lt;/p&gt;
    &lt;/div&gt;
    &lt;div style="color:#8c8c8c;;font-family: 'Century Gothic','Trebuchet MS','Hiragino Sans GB',微软雅黑,'Microsoft Yahei',Tahoma,Helvetica,Arial,'SimSun',sans-serif;font-size: 10px;width: 100%;text-align: center;padding-bottom: 1px;"&gt;
        &lt;p&gt;©2019-2020 Copyright {{site_name}}&lt;/p&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
<div class="notice">上述代码可能会有显示误差，COPY后注意格式！</div><p>到这里就设置成功啦，最后附上邮箱模板的效果图。</p>
<p><figure  size-undefined><img width="-1" height="-1" src="https://www.imsean.cn/usr/uploads/2020/03/2451110662.png#vwid=670&vhei=718" /><figcaption>博主邮件模板示范图.png</figcaption></figure> <figure  size-undefined><img width="-1" height="-1" src="https://www.imsean.cn/usr/uploads/2020/03/4021264260.png#vwid=616&vhei=733" /><figcaption>访客邮件模板示例图.png</figcaption></figure></p>
<p><strong>后记</strong>
<em>代码部分版权归属<a href="https://zhebk.cn/Web/Mailer.html">纸盒博客</a> <a href="https://blog.imalan.cn/archives/349/">无文字</a></em></p>

            </div>
        </article>
        <div id="ga-tags">
    
    <span class="ga-tag">
        <a class="ga-highlight" href="/tag/网站/">#网站</a>
    </span>
    
    <span class="ga-tag">
        <a class="ga-highlight" href="/tag/技术向/">#技术向</a>
    </span>
    
    <span class="ga-tag">
        <a class="ga-highlight" href="/tag/体验/">#体验</a>
    </span>
    
    <span class="ga-tag">
        <a class="ga-highlight" href="/tag/新尝试/">#新尝试</a>
    </span>
    
    <span class="ga-tag">
        <a class="ga-highlight" href="/tag/Mailer/">#Mailer</a>
    </span>
    
</div>
    </section>

    
<section id="ga-content_pager">

    <div class="next">
        <a class="ga-highlight" href="/archives/happy-seventeen-brithday/">Happy Seventeen Birthday！</a>
        <p class="yue">拾期？拾七？十七！Bingo！</p>
    </div>


    <div class="prev">
        <a class="ga-highlight" href="/archives/172/">基于Chromium的新版Edge体验报告</a>
        <p class="yue">抱紧微软爸爸的大腿，抛弃Chrome！</p>
    </div>

</section>


    
        <script>
            var initValine = function () {
                new Valine({"enable": true, "el": "#vcomments", "appId": "MW3rej0gI05buDtSpAN15yi2-gzGzoHsz", "appKey": "g8BYYF25hHDXLNaTpptqumwL", "visitor": true, "recordIP": true});
            }
        </script>
        <script defer src='https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js' onload="initValine()"></script>
        <div id="vcomments"></div>
    

</main>

                <footer class="ga-mono" id="ga-footer">
                    <section>
                        <span id="ga-uptime"></span>
                        <span class="brand">Sean's Blog</span>
                    </section>
                    <section>
                        <p class="copyright">
                            <span>Copyright © 2021 Sean</span>
                            <span>Powered by <a no-style href="https://github.com/AlanDecode/Maverick" target="_blank">Maverick & Galileo</a></span>
                        </p>
                        <div class="copyright">
                            <span class="footer-addon">
                                
                            </span>
                            <nav class="social-links">
                                <ul><li><a class="no-style" title="Weibo" href="https://weibo.com/u/3225834177" target="_blank"><i class="gi gi-weibo"></i>Weibo</a></li><span class="separator">·</span><li><a class="no-style" title="Twitter" href="https://twitter.com/pems002" target="_blank"><i class="gi gi-twitter"></i>Twitter</a></li><span class="separator">·</span><li><a class="no-style" title="instagram" href="https://www.instagram.com/pems002" target="_blank"><i class="gi gi-instagram"></i>instagram</a></li></ul>
                            </nav>
                        </div>
                    </section>
                    <script>
                        var site_build_date = "2019-07-30T09:00+08:00"
                    </script>
                    <script src="https://cdn.jsdelivr.net/gh/Pems002/Blog@gh-pages/assets/galileo-dc4baa7cf4.js"></script>
                </footer>
            </div>
        </div>
    </div>

    <!--katex-->
    <script defer src="https://cdn.jsdelivr.net/gh/Pems002/Blog@gh-pages/assets/katex.min.js"></script>
    <script>
    mathOpts = {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "\\[", right: "\\]", display: true},
            {left: "$", right: "$", display: false},
            {left: "\\(", right: "\\)", display: false}
        ]
    };
    </script>
    <script defer src="https://cdn.jsdelivr.net/gh/Pems002/Blog@gh-pages/assets/auto-render.min.js" onload="renderMathInElement(document.body, mathOpts);"></script>

    <script src="https://cdn.jsdelivr.net/gh/Pems002/Blog@gh-pages/assets/ExSearch/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/Pems002/Blog@gh-pages/assets/ExSearch/ExSearch-493cb9cd89.js"></script>

    
    </body>
</html>